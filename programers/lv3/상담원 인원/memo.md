## [2023 현대모비스 알고리즘 경진대회 예선 상담원 인원](https://school.programmers.co.kr/learn/courses/30/lessons/214288)

---

큐를 이용하여 대기시간을 측정하는 문제. 상담원 제한 수가 적어서 완전탐색으로도 충분히 해결이 가능하다.

먼저 reqs를 type에 따라 분류한다. 상담 유형에 따라 상담은 독립적으로 운영되므로 각각은 분리해서 생각해도 무방하다.

그 이후엔 상담원 배치의 조합을 만든다. 상담원의 최소 인원수는 1명이기 때문에 기본적으로 1명씩 배치한 후, 가능한 모든 상담원 배치의 조합을 만들어준다.

그리고 조합이 완성될 때 마다 해당 조합에서 상담유형 각각의 대기시간을 구한다. 대기시간은 다음과 같은 방법으로 구한다.

1. req의 앞부터 working 큐에 상담요청을 넣어준다. req는 이미 시작시간의 오름차순으로 정렬되어있다. 이 떄 현재시간을 시작시간과 현재시간 중 큰 값으로 갱신해준다.

2. working 큐의 길이가 현재 할당된 상담원 수 보다 많아지면, working 큐에서 작업 하나를 빼줘야 한다. 이때 빼줄 작업은 가장 빨리 끝나는 작업이다. 여기서 나는 간단히 정렬을 사용했지만, 효율을 위해서 working 큐를 힙으로 구성하는것도 좋을 것이다.

3. 작업이 끝나는 시간이 현재 시간보다 늦다면, 그 차이를 대기시간으로 잡고 추가해준다. 그리고 해당 작업이 끝나는 시간을 현재시간으로 하고 새 작업을 추가한다. 이 떄, 추가되는 작업의 시작시간은 기존 시작시간이 아닌 현재 시간이 된다.

4. 더이상 추가할 작업이 없으면 최종 대기시간이 결정된다. 이 대기시간을 캐시로서 저장하고, 다음에 같은 상담유형/인원수의 요청이 들어오면 이 값을 반환한다.

이러한 방식으로 모든 상담원 배치 방법에 따라 대기시간을 구한 후 최소값을 리턴하면 답을 구할 수 있다.
