## [3xn 타일링](https://school.programmers.co.kr/learn/courses/30/lessons/12902)

---

이 문제의 심화 버전으로 [아방가르드 타일링](https://school.programmers.co.kr/learn/courses/30/lessons/181186) 이 있다.

타일 배치의 개수를 구하는 문제로, dp를 사용한다.

각 경우의 수를 계산하기 위해서는, 원소 값을 찾을 필요가 있다.
원소 값이란 특정 가로길이에서 더 작은 경우의 수로 분리되지 않는 유일한 타일 배치 방법을 말한다.

타일 하나가 차지하는 칸 수는 2인데, 직사각형 영역의 세로 길이는 3이다. 따라서 직사각형 영역의 가로 길이가 홀수일 때는 전체 칸수도 홀수가 되므로 타일을 배치하는 방법은 존재하지 않고, 원소값도 존재하지 않는다.

먼저 가로 길이 w가 2 일때 다음과 같은 3개의 원소값이 존재한다.

    1 1     1 2     1 1
    2 2     1 2     2 3
    3 3     3 3     2 3

다음으로 w가 4 일 때 다음과 같은 2개의 원소값이 존재한다.

    1 3 3 6
    1 4 4 6   x2 (상하반전)
    2 2 5 5

위 구조를 자세히 보면 가로로 2칸이 추가될 때 마다 무한히 늘어날수 있음을 알수 있다.

     (w = 6)
    1 3 3 5 5 9
    1 4 4 6 6 9   x2(상하반전)
    2 2 7 7 8 8

이 외에는 분리되지 않고 유일하게 배치할 수 있는 방법은 존재하지 않는다.
따라서 원소값은 2 에서 3개, 4 이상인 짝수에서 2개씩 존재한다는 것을 알 수 있다.

이제 원소값들을 기반으로 dp를 진행한다. 특정 단계의 경우의 수는

(현재 단계의 원소값) + (-2 단계의 경우의 수 \* 3) + (-4 단계의 경우의 수 \* 2) + (-6 단계의 경우의 수 \* 2) + ... 이다.

이때 4단계부터의 원소값은 모두 2로 동일하므로, 현재 단계 - 4 부터 2단계씩 이전의 경우의 수를 모두 더하면 한 번의 연산으로 해결할 수 있다. 이를 위해 별도로 acc 라는 리스트를 만들어서 연산에 활용해준다.
